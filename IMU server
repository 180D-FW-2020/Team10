# raspberrypi server

import socket
 import sys

backlog =  1 
size =  1024 
host = socket.gethostname() #should be raspberrypi IP address 
port = 12345
s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) 
s . bind ( ( host, port) ) 
s . listen ( 1 )

while True : 
    print  ( 'waiting for a connection' ) 
    connection , client_address = s . accept ( )

try : 
    print  ( 'connection from' , client_address ) 
    while True : 
        data = connection . recv ( 16 ) 
        
        print  ( 'received "%s"'  % data ) 
        if data : 
            print  ( 'sending data back to the client' ) 
            connection . sendall ( data ) 
        else : 
            print  ( 'no more data from' , client_address )
            break

finally : 
    print ( "closing socket" ) 
    cient . close ( ) 
    s . close ( )
